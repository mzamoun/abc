<!DOCTYPE html>
<html>
<head> <meta charset="utf-8" />
    <title>Groupe ABC : Projets Diaspora en Algerie</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>    

</head>
 
<body>
    <div id="resultat">
    </div>
         
        <h1>Connexion: </h1>
 
    <form>
        <p>
        Email : <input type="text" id="username" /> <br>
        Password : <input type="password" id="password" /> <br>
        <input type="submit" id="submit" value="Login" />
        </p>
    </form>
 
</body>
</html>
 
<script>
    var url = 'https://script.google.com/macros/s/AKfycbxOnxHcI_tfYCmo0jAD0rFsxYIXzKPN1QwW8Zvgz6ax1hg9su8E9j_VoWLrgEW9qDQf/exec';

    function onLogin  (e) {
        console.log(e);
        $("#resultat").html("<p>Info Login:</p>"  + JSON.stringify(e.data) );
    }     

    function callMeGet  (e) {
        console.log(e);
        $("#resultat").html("<p>Get:</p>"  + JSON.stringify(e.data) );
    }  

    function callMePost  (e) {
        console.log(e);
        $("#resultat").html("<p>Post:</p>"  + JSON.stringify(e.data) );
    }      
 
$(document).ready(function(){

    $("#submit").click(function(e){
        e.preventDefault();

        var myData = {
            cmd: 'login',
            email : $("#username").val(),  // Nous récupérons la valeur de nos input que l'on fait passer à connexion.php
            password : $("#password").val(),
            callbackFun : 'onLogin'
        };

        $.ajax({
            type: 'POST',
            crossDomain: true,
            url: url ,
            data: myData,
            dataType: "jsonp",
            success: function(e) {
                console.log('success', e);
            },
            error: function(e) {
                console.log('error', e);
            },
        });

   });

});
 
</script>

<!--

https://mzamoun.github.io/abc/index.html

-->